# 在 Cursor 里进入 personal_agent 环境

## 一、让终端识别 conda（只需做一次）

Cursor 自带的 PowerShell 默认不识别 `conda`，需要先初始化：

1. 打开 **Anaconda Prompt**（在开始菜单搜 “Anaconda Prompt”）。
2. 在 Anaconda Prompt 里执行：
   ```bash
   conda init powershell
   ```
3. **关闭 Cursor 里所有终端**，再重新打开一个新终端（或重启 Cursor）。
4. 之后在 Cursor 的 PowerShell 里就可以用 `conda activate personal_agent` 了。

---

## 二、每次要测试时：在终端里“进入”环境

1. 在 Cursor 底部打开 **终端**（`` Ctrl+` `` 或 菜单 终端 → 新建终端）。
2. 确认当前目录是项目目录（若是别的目录，先执行）：
   ```powershell
   cd c:\Projects\agent
   ```
3. **激活环境**（这一步就是“进入环境”）：
   ```powershell
   conda activate personal_agent
   ```
4. 看到命令行前面出现 `(personal_agent)` 就表示已经在该环境里，例如：
   ```text
   (personal_agent) PS C:\Projects\agent>
   ```
5. 然后就可以安装依赖和运行脚本：
   ```powershell
   pip install -r requirements.txt
   python run_page_analysis.py https://www.example.com
   ```

---

## 三、如何确认“我有没有在 personal_agent 里？”

在终端里执行：

```powershell
conda activate personal_agent
python -c "import sys; print('当前 Python:', sys.executable)"
```

- 若输出路径里包含 **personal_agent**（例如 `...\envs\personal_agent\python.exe`），说明当前终端已在该环境中。
- 若路径是 `C:\Python...` 或 `...\Anaconda3\python.exe`（没有 `envs\personal_agent`），说明还没进入环境，需要先执行 `conda activate personal_agent`。

---

## 四、选解释器（运行/调试时用哪个 Python）

“进入环境”主要影响**终端里的命令**；而你在 Cursor 里点“运行”或“调试”时，用的是**当前选中的 Python 解释器**。

1. 按 **Ctrl+Shift+P**，输入并选择：**Python: Select Interpreter**。
2. 在列表里选带 **personal_agent** 的那一项（或路径里含 `envs\personal_agent\python.exe` 的）。
3. 选好后，右上角运行/调试会用这个环境的 Python，终端里仍建议按上面第二节先 `conda activate personal_agent` 再运行 `pip`/`python`。

---

## 五、若终端里仍然不识别 conda

说明 PowerShell 的配置里还没有 conda。可以：

- **做法 A**：在 Cursor 终端里用 conda 的**完整路径**激活（把下面的路径改成你本机 Anaconda 的安装路径）：
  ```powershell
  & "$env:USERPROFILE\anaconda3\Scripts\conda.exe" activate personal_agent
  ```
  若你装的是 Miniconda 或装在了别的盘，可能是：
  ```powershell
  & "C:\ProgramData\anaconda3\Scripts\conda.exe" activate personal_agent
  ```
- **做法 B**：在 **Anaconda Prompt** 里做完 `conda init powershell` 后，再按第一节重新打开 Cursor 终端试一次。

---

**总结：在 Cursor 里“进入环境”= 在终端输入 `conda activate personal_agent`，看到 `(personal_agent)` 后再用 `pip` 和 `python`。**
